(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/PartRunning/PartRunning"],{"302e":function(t,e,n){},"33b8":function(t,e,n){"use strict";n.r(e);var i=n("67a1"),r=n("f722");for(var o in r)"default"!==o&&function(t){n.d(e,t,(function(){return r[t]}))}(o);n("a48a");var s,u=n("f0c5"),a=Object(u["a"])(r["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],s);e["default"]=a.exports},"67a1":function(t,e,n){"use strict";var i,r=function(){var t=this,e=t.$createElement,n=(t._self._c,t._f("formatTime")(t.workTimeSec)),i=t._f("formatTime")(t.restTimeSec),r=t._f("formatTime")(t.totalTimeSec);t.$mp.data=Object.assign({},{$root:{f0:n,f1:i,f2:r}})},o=[];n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return i}))},"7be4":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=o(n("4795")),r=n("e83a");function o(t){return t&&t.__esModule?t:{default:t}}function s(t,e,n,i,r,o,s){try{var u=t[o](s),a=u.value}catch(c){return void n(c)}u.done?e(a):Promise.resolve(a).then(i,r)}function u(t){return function(){var e=this,n=arguments;return new Promise((function(i,r){var o=t.apply(e,n);function u(t){s(o,i,r,u,a,"next",t)}function a(t){s(o,i,r,u,a,"throw",t)}u(void 0)}))}}var a=function(){n.e("components/CircleButton").then(function(){return resolve(n("7c65"))}.bind(null,n)).catch(n.oe)},c={prepare:"prepare",work:"work",rest:"rest"},f={data:function(){return{STATUS:c,status:c.prepare,timeInfo:{},percent:0,startTime:0,currentCount:0,workTimeSec:0,restTimeSec:0,preTimeSec:4,totalTimeSec:0,pauseTime:null,finish:!1}},computed:{toggleIcon:function(){return this.pauseTime?"icon-play":"icon-pause"}},watch:{preTimeSec:function(t){[3,2,1].includes(t)?(0,r.setAudio)("ding.mp3"):0===t&&(0,r.setAudio)("dong.mp3")},restTimeSec:function(t){[3,2,1].includes(t)?(0,r.setAudio)("ding.mp3"):0===t&&(0,r.setAudio)("dong.mp3")},workTimeSec:function(t){0===t&&(0,r.setAudio)("rest.mp3")}},onShow:function(){this.timeInfo=t.getStorageSync("timeInfo"),this.workTimeSec=this.timeInfo.workTime,this.restTimeSec=this.timeInfo.restTime,this.timeInfo.totalTime=this.timeInfo.workTime*this.timeInfo.count+this.timeInfo.restTime*(this.timeInfo.count-1),this.timeInfo.countTime=this.timeInfo.workTime+this.timeInfo.restTime},mounted:function(){this.startTime=Date.now(),this.startCount()},methods:{startCount:function(){var t=this;return u(i.default.mark((function e(){return i.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.pauseTime&&!t.finish){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,(0,r.delay)(15);case 4:t.updateCount(),t.startCount();case 6:case"end":return e.stop()}}),e)})))()},updateCount:function(){var t=this.timeInfo,e=t.workTime,n=t.restTime,i=t.count,o=t.totalTime,s=t.countTime,u=Date.now(),a=u-this.startTime,f=Math.floor(a/1e3),m=3;if(f<m){var l=m-f;this.preTimeSec=l,this.percent=a/(1e3*m)*100,this.status=c.prepare}else{this.totalTimeSec=o-f+m,this.preTimeSec=0;var h=f-m,d=a-1e3*m;this.currentCount=Math.floor(h/s)+1;var p=h%s,T=d%(1e3*s);if(p<e){this.restTimeSec=0;var v=1e3*e-T;this.workTimeSec=Math.floor(v/1e3)+1,this.percent=v/(1e3*e)*100,this.status=c.work}else{if(this.currentCount>=i)return this.workTimeSec=-1,this.percent=0,this.finish=!0,void(0,r.setAudio)("success.mp3");console.log("rest"),this.status=c.rest,this.workTimeSec=0;var w=1e3*n-(T-1e3*e);this.restTimeSec=Math.floor(w/1e3)+1,this.percent=100-w/(1e3*n)*100}}},togglePlay:function(){this.pauseTime?(this.startTime+=Date.now()-this.pauseTime,this.pauseTime=null,this.startCount()):this.pauseTime=Date.now()},handleClickStop:function(){t.redirectTo({url:"../index/index"})}},components:{CircleButton:a}};e.default=f}).call(this,n("543d")["default"])},"80d9":function(t,e,n){"use strict";(function(t){n("9b22");i(n("66fd"));var e=i(n("33b8"));function i(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n("543d")["createPage"])},a48a:function(t,e,n){"use strict";var i=n("302e"),r=n.n(i);r.a},f722:function(t,e,n){"use strict";n.r(e);var i=n("7be4"),r=n.n(i);for(var o in i)"default"!==o&&function(t){n.d(e,t,(function(){return i[t]}))}(o);e["default"]=r.a}},[["80d9","common/runtime","common/vendor"]]]);